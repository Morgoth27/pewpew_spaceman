<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <link rel="icon" href="%PUBLIC_URL%/favicon.ico" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="description" content="Pewpewpewpewpew!"/>
        <link rel="stylesheet" href="src/css/reset.css">
        <link rel="stylesheet" href="src/css/login.css">
        <link rel="stylesheet" href="src/css/home.css">
        <link rel="stylesheet" href="src/css/shop.css">
        <link rel="stylesheet" href="src/css/game.css">
        <link rel="stylesheet" href="src/css/bestiary.css">
        <link rel="stylesheet" href="src/css/leaderboards.css">

        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">


        <title>PewPew Spaceman</title>
    </head>


    <body>
        <div id="root"></div>
        <!-- <div id="phaser"></div> -->
    </body>
    <script>
        
const CREATEPanel = document.querySelector('.createPanel');
const LOGINPanel = document.querySelector('.loginPanel');

const swapLOG = document.querySelector('.swapLogBTN');
const swapCREATE = document.querySelector('.swapCreateBTN');

if (swapLOG) {
	swapLOG.addEventListener('click', () => {
		console.log('test');
	var createVIS = CREATEPanel.getAttribute('data-visible');
		if (createVIS === "true") {
			CREATEPanel.setAttribute('data-visible', false);
			LOGINPanel.setAttribute('data-visible', true);
		} else {
			CREATEPanel.setAttribute('data-visible', true);
			LOGINPanel.setAttribute('data-visible', false);
		}
	})
}

if (swapCREATE) {
	swapCREATE.addEventListener('click', () => {
		console.log('test');
		var loginVIS = LOGINPanel.getAttribute('data-visible');
		if (loginVIS === "true") {
			CREATEPanel.setAttribute('data-visible', true);
			LOGINPanel.setAttribute('data-visible', false);
		} else {
			CREATEPanel.setAttribute('data-visible', false);
			LOGINPanel.setAttribute('data-visible', true);
		}
	})
}

var clickableHoverSource = "./public/assets/clickable-hover.wav";
var clickableHover;

var clickableClickSource = "./public/assets/high-bloop.mp3";
var clickableClick;

const clickable = document.querySelectorAll('.clickable');

if (clickable) {
	for (var i=0; i<clickable.length; i++) {
		clickable[i].addEventListener('mouseover', () => {
			clickableHover = new Audio(clickableHoverSource);
			clickableHover.muted = false;
			clickableHover.volume = .80;
			clickableHover.play();
		})
	}
	for (var i=0; i<clickable.length; i++) {
		clickable[i].addEventListener('click', () => {
			clickableClick = new Audio(clickableClickSource);
			clickableClick.muted = false;
			clickableClick.volume = .80;
			clickableClick.play();
		})
	}
}

const signOutConfirm = document.querySelector(".holderHolder");

const stay = document.querySelector('.stay');
const signOutSad = document.querySelector('.signOutSad');

const signOut = document.querySelector('.signOut');

if (signOutConfirm) {
	signOut.addEventListener('click', () => {
		signOutConfirm.style.transform = "scale(1)";
		signOutConfirm.style.marginRight = "0";
	})
	stay.addEventListener('click', () => {
		signOutConfirm.style.transform = "scale(0)";
		signOutConfirm.style.marginRight = "-200%";
	})
	signOutSad.addEventListener('click', () => {
		console.log("signed out")
	})
}

const leaderPanel = document.querySelectorAll('.leaderPanel');

const timeScore = document.querySelector('.timeSurvivedPanel');
const overallScore = document.querySelector('.overallScorePanel');
const enemyScore = document.querySelector('.enemiesKilledPanel');

if (leaderPanel) {
	for (i=0; i<leaderPanel.length; i++) {
		leaderPanel[i].addEventListener('click', (event) => {


			var currentSelect = event.currentTarget.classList[1];
			event.currentTarget.style.position = "absolute";
			event.currentTarget.style.zIndex = "100";
			if (currentSelect === "overallScorePanel") {
				timeScore.style.position = "relative";
				timeScore.style.zIndex = "1";
				timeScore.style.margin = "5vw";
				enemyScore.style.position = "relative";
				enemyScore.style.zIndex = "1";
				enemyScore.style.margin = "5vw";
			} else if (currentSelect === "timeSurvivedPanel") {
				overallScore.style.position = "relative";
				overallScore.style.zIndex = "1";
				overallScore.style.margin = "5vw";
				enemyScore.style.position = "relative";
				enemyScore.style.zIndex = "1";
				enemyScore.style.margin = "5vw";
			} else {
				overallScore.style.position = "relative";
				overallScore.style.zIndex = "1";
				overallScore.style.margin = "5vw";
				timeScore.style.position = "relative";
				timeScore.style.zIndex = "1";
				timeScore.style.margin = "5vw";
			}
		})
	}
}
    </script>
</html>